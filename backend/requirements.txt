# FastAPI and ASGI server
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.18  # Updated from 0.0.7 to fix CVE-2024-53981 (HIGH) - DoS via deformation vulnerability

# Database
sqlalchemy==2.0.23
psycopg2-binary==2.9.9
alembic==1.12.1

# Authentication & Security
python-jose[cryptography]==3.4.0  # Updated from 3.3.0 to fix CVE-2024-33663 (CRITICAL) - algorithm confusion with OpenSSH ECDSA keys
passlib[bcrypt]==1.7.4
bcrypt==4.0.1  # Pin to 4.0.1 for compatibility with passlib 1.7.4
python-dotenv==1.0.0
pydantic[email]==2.5.0
pydantic-settings==2.1.0

# Email
aiosmtplib==3.0.1
email-validator==2.1.0
jinja2==3.1.2

# Google Cloud
google-cloud-secret-manager==2.16.4
google-cloud-storage==2.10.0
google-cloud-logging==3.8.0
google-cloud-monitoring==2.15.1  # For Cloud Monitoring metrics (used by worker)
# google-cloud-sql-connector>=1.4.0  # Optional - for Cloud SQL Connector (not needed for direct PostgreSQL)

# Google Cloud AI Platform & Vertex AI
# Includes vertexai module for Gemini models
# Modern usage (v1.60+):
#   import vertexai
#   vertexai.init(project=PROJECT_ID, location=LOCATION)
#   from vertexai.generative_models import GenerativeModel
google-cloud-aiplatform==1.60.0

# Google Cloud Text-to-Speech for audio generation
google-cloud-texttospeech==2.16.3

# Google Cloud Pub/Sub for async job processing
google-cloud-pubsub==2.18.0

# Vertex AI & ML
redis==5.0.1

# Phase 1.4: Real-Time Notifications (SSE + Redis Pub/Sub)
# redis[hiredis]==5.0.1  # Already included above, hiredis parser for performance
sse-starlette==1.8.2    # Server-Sent Events for FastAPI

# TTS & Video Generation
moviepy==1.0.3
imageio-ffmpeg==0.4.9
pillow==10.3.0  # Updated from 10.1.0 to fix CVE-2023-50447 (CRITICAL) and CVE-2024-28219 (HIGH)

# Rate limiting
slowapi==0.1.9

# HTTP client
httpx==0.25.2

# Testing
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0
httpx==0.25.2

# Development
black==23.11.0
flake8==6.1.0
mypy==1.7.1
